# Examples
## Data Structure Operations

Note: there are some operations that are available to all Containers, which are shown at the [end of this page](#all-containers).\
<br>
For all operations, a store and a database are needed:
```python
from gink import *
store = LmdbStore('example.db')
database = Database(store=store)
```

### Box
A Box is the simplest data structure available on Gink. It can hold only one value at a time; you can set its value, or get its value.
```python
box = Box(database=database)

box.set({"foo": "bar", "key2": 15})
result = box.get() # Returns the python dictionary just added

if not box.isEmpty():
    print(box.size()) # This will only return 0 or 1 (1 in this case).
```

### Directory
The Directory aims to mimic the functionality of a Python dictionary. If you know how to use a dictionary, you should already know how to use the directory!
```python
directory = Directory(database=database)

directory["key1"] = "value1"

# Saves a timestamp after "key1" and before "key2"
time = database.get_now()

# Achieves the same thing as the previous set, just different syntax.
directory.set("key2", {"test": "document"})

result = directory.get("key2") # Returns {"test": "document"}
result2 = directory.get("key3") # Returns None

# Returns an generator of ["key1", "key2"]
keys = directory.keys()

# Returns the items as a generator of (key, value tuples) in the directory
# at the specified timestamp - in this case, [("key1", "value1")]
items = directory.items(as_of=time)

# Returns "value1" and removes the key: value pair from the directory.
value = directory.pop("key1")
```

### Sequence
The Sequence is equivalent to a Python list. Again, these operations should look pretty familiar! In a Gink Sequence, the contents are ordered by timestamps.
```python
sequence = Sequence()

sequence.append("Hello, World!")
sequence.append(42)
sequence.append("a")
sequence.append("b")

found = sequence.index("Hello, World!")
# Returns 0

popped = sequence.pop(1)
# Returns 42

# Pops and returns the value at index 0, which is "Hello, World!"
# The destination argument allows you to place the item
# back into the sequence at a different timestamp
# in this case, -1 would indicate the timestamp of the last change.
# So, this sequence is now ordered as ["a", "b", "Hello, World!"]
popped = sequence.pop(0, dest=-1)


# Inserts "x" at index 1, between "a" and "b", in this example.
# Comment is an optional parameter that will be included in
# bundle for this change (most operations may contain comments).
sequence.insert(1, "x", comment="insert x")

# Convert contents to Python list
as_list = list(sequence)
```

### Key Set
The Key Set is designed to work similarly to a Python Set - it is just a "list" of unique keys. If you are looking for a data structure to hold a reference to another container (or a Muid), check out [Role](#role-examples) below.\
Note: a Key Set can hold keys of types str, int, and bytes.
```python
ks = KeySet(database=database)

ks.add("key1")
ks.add("key2")

is_contained = ks.contains("key1") # Returns True

ks.remove("key1")

ks.update(["key3", "key4"]) # adds multiple keys

popped = ks.pop("key2") # returns "key2"

# Our Python KeySet also includes operations such as
# issubset, issuperset, etc. I encourage you to check out
# the full docs to see the other methods.
ks.update(["key1", "key2"])
# keyset is now ["key1", "key2", "key3", "key4"]
is_subset = ks.issubset(["key1", "key2", "key3", "key4", "key5"])

# returns True
union = ks.union(["key4", "key5"])
# returns ["key1", "key2", "key3", "key4", "key5"]
```

### Pair Set
The Pair Set is the first data structure out of the previous examples that has few similarities to the build-in Python data structures. In Gink, every container is given a "Muid" (to read more about what a Muid is, [click here](#muid)). In simple terms, a Muid is just a unique identifier to keep track of containers (and changes).\
<br>
While the Pair Set's methods do not mimic those of the Python Set, you can think of a Pair Set as a set of tuples. These tuples contain pairs of (Muid, Muid), or (Noun, Noun) (more on Nouns [here](#noun-examples)). Basically, a Pair Set serves to store the fact that two Nouns are connected.

```python
ps = PairSet()

noun1 = Noun()
noun2 = Noun()

# "Include" refers to the fact that the pair is either
# in the pair set, or it is not.
ps.include(pair=(noun1, noun2))
ps.exclude(pair=(noun1, noun2))

# Same as above, but adding the pair using muids.
ps.include(pair=(noun1._muid, noun2,_muid))

is_contained = ps.contains(pair=(noun1, noun2)) # returns True

pairs = ps.get_pairs() # returns Set{(noun1._muid, noun2._muid)}
```

### Pair Map
Similar to the Pair Set, a Pair Map has keys consisting of a (Noun, Noun) or (Muid, Muid) tuple. These keys are mapped to a value, which may be a Container or other standard value (str, int, list, etc.). The Pair Map has methods similar to those  found in the built in map object.

```python
pm = PairMap(database=database)
noun1 = Noun()
noun2 = Noun()

pm.set(key=(noun1, noun2), value="noun1->noun2")

in_pm = pm.has(key=(noun1._muid, noun2._muid)) # returns True
value = pm.get(key=(noun1, noun2)) # returns "noun1->noun2"

items = pm.items() # returns a generator of ((Muid, Muid), value)
```

(role-examples)=
### Role

### Property

(noun-examples)=
### Noun

### Verb

(all-containers)=
### All Containers
The container is the parent class for all of these data structures. Here are some examples of the powerful operations you can do with any container:
```python
# initializing data structure with contents
# reset
# as_of
# bundler/comment stuff
# clear
```
